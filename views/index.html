<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TurboSaaS - Pricing</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        /* CSS SPÃ‰CIFIQUE POUR LES PRIX */
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 40px; }
        .price-card {
            background: rgba(255,255,255,0.03); border: 1px solid var(--border);
            padding: 30px; border-radius: 16px; text-align: left; transition: 0.3s;
            display: flex; flex-direction: column; justify-content: space-between;
        }
        .price-card:hover { transform: translateY(-5px); border-color: rgba(94, 106, 210, 0.5); }
        .price-card.popular { background: linear-gradient(180deg, rgba(94, 106, 210, 0.1) 0%, rgba(20, 21, 22, 0.6) 100%); border-color: #5E6AD2; }
        
        .price-title { font-size: 1.2rem; font-weight: 600; color: #fff; margin-bottom: 10px; }
        .price-amount { font-size: 2.5rem; font-weight: 700; color: #fff; margin-bottom: 20px; }
        .price-features { list-style: none; margin-bottom: 30px; }
        .price-features li { margin-bottom: 10px; color: var(--text-muted); font-size: 0.9rem; display: flex; align-items: center; gap: 10px; }
        .price-features li::before { content: "âœ“"; color: #5E6AD2; font-weight: bold; }
        
        .input-project { width: 100%; margin-bottom: 40px; background: rgba(0,0,0,0.3); border: 1px solid var(--border); padding: 15px; border-radius: 8px; color: white; font-size: 1.1rem; text-align: center; }
    </style>
</head>
<body>

    <nav class="container navbar">
        <div class="logo">ðŸš€ TurboSaaS</div>
        <div class="nav-links"><a href="#">Connexion</a></div>
    </nav>

    <header class="hero">
        <div class="container">
            <span class="badge-new">Offres de Lancement</span>
            <h1>Choisissez votre arme.</h1>
            <p>Du simple code au mentorat complet par IA.</p>

            <input type="text" id="projectName" class="input-project" placeholder="Nom de votre futur projet..." value="MonSuperSaaS">

            <div class="pricing-grid">
                
                <div class="price-card">
                    <div>
                        <div class="price-title">Starter Code</div>
                        <div class="price-amount">14,99â‚¬</div>
                        <ul class="price-features">
                            <li>Boilerplate Node.js Complet</li>
                            <li>Architecture MVC Pro</li>
                            <li>Auth + Mongo + Stripe intÃ©grÃ©s</li>
                            <li>Installation en 2 minutes</li>
                        </ul>
                    </div>
                    <button onclick="buy('starter')" class="btn-primary" style="background: #333;">Commander le Code</button>
                </div>

                <div class="price-card">
                    <div>
                        <div class="price-title">Mentor IA</div>
                        <div class="price-amount">19,00â‚¬</div>
                        <ul class="price-features">
                            <li>Le Prompt "Copilote"</li>
                            <li>Transforme ChatGPT en Senior Dev</li>
                            <li>AdaptÃ© Ã  notre architecture</li>
                            <li>Guide PDF inclus</li>
                        </ul>
                    </div>
                    <button onclick="buy('prompt')" class="btn-primary" style="background: #333;">Commander le Prompt</button>
                </div>

                <div class="price-card popular">
                    <div>
                        <span class="tag-pro" style="float:right;">MEILLEURE OFFRE</span>
                        <div class="price-title">Ultimate Pack</div>
                        <div class="price-amount">25,00â‚¬</div>
                        <ul class="price-features">
                            <li style="color:white;">Tout le Code Starter</li>
                            <li style="color:white;">Le Prompt Copilote IA</li>
                            <li>Mises Ã  jour Ã  vie</li>
                            <li>Support prioritaire</li>
                        </ul>
                    </div>
                    <button onclick="buy('ultimate')" class="btn-primary">Obtenir le Pack Complet</button>
                </div>

            </div>
        </div>
    </header>

    <footer><p>&copy; 2024 TurboSaaS.</p></footer>

    <script>
        async function buy(offerType) {
            const btn = event.target;
            const originalText = btn.innerText;
            btn.innerText = "Chargement...";
            btn.disabled = true;

            const projectName = document.getElementById('projectName').value || 'MonProjet';

            try {
                const response = await fetch('/create-checkout-session', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ projectName, offerType })
                });
                const data = await response.json();
                if (data.url) window.location.href = data.url;
            } catch (err) {
                alert("Erreur");
                btn.innerText = originalText;
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>